<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora ROI - Automatización Empresarial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            padding: 20px;
            color: #000000;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 2px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            border: 1px solid #000000;
        }

        .header {
            background: #000000;
            color: #ffffff;
            padding: 40px;
            text-align: center;
            border-bottom: 2px solid #333333;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 8px;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        .header p {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .header small {
            font-size: 0.85rem;
            opacity: 0.7;
        }

        .content {
            padding: 40px;
            background: #f8f8f8;
        }

        .section {
            margin-bottom: 35px;
            padding: 30px;
            border-radius: 1px;
            background: #ffffff;
            border: 1px solid #000000;
            border-left: 3px solid #000000;
        }

        .section h2 {
            color: #000000;
            margin-bottom: 20px;
            font-size: 1.4rem;
            font-weight: 600;
            border-bottom: 1px solid #000000;
            padding-bottom: 10px;
        }

        .section h3 {
            color: #000000;
            margin-bottom: 15px;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .pain-points {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .pain-card {
            border: 1px solid #000000;
            padding: 20px;
            border-radius: 1px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: #ffffff;
        }

        .pain-card:hover {
            border-color: #000000;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            background: #f0f0f0;
        }

        .pain-card.selected {
            border-color: #000000;
            background: #e8e8e8;
            border-width: 2px;
        }

        .pain-card h4 {
            font-size: 1rem;
            margin-bottom: 8px;
            color: #000000;
            font-weight: 600;
        }

        .pain-card p {
            font-size: 0.9rem;
            color: #333333;
            margin-bottom: 0;
        }

        .sub-problems {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #f0f0f0;
            border: 1px solid #000000;
            border-radius: 1px;
        }

        .sub-problems.active {
            display: block;
        }

        .sub-problem {
            padding: 10px 15px;
            margin-bottom: 10px;
            border: 1px solid #666666;
            border-radius: 1px;
            cursor: pointer;
            background: #ffffff;
            transition: all 0.2s ease;
        }

        .sub-problem:hover {
            border-color: #000000;
            background: #f8f8f8;
        }

        .sub-problem.selected {
            border-color: #000000;
            background: #e0e0e0;
            border-width: 2px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #000000;
            font-size: 0.9rem;
        }

        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #000000;
            border-radius: 1px;
            font-size: 14px;
            transition: border-color 0.2s ease;
            background: #ffffff;
            color: #000000;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #000000;
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
        }

        .slider-group {
            margin-bottom: 20px;
        }

        .slider {
            width: 100%;
            margin: 10px 0;
            background: #cccccc;
            border-radius: 1px;
            height: 4px;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 1px;
            background: #000000;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 1px;
            background: #000000;
            cursor: pointer;
            border: none;
        }

        .slider-value {
            display: inline-block;
            background: #000000;
            color: #ffffff;
            padding: 3px 10px;
            border-radius: 1px;
            font-weight: 500;
            font-size: 0.85rem;
            margin-left: 10px;
        }

        .results {
            background: #000000;
            color: #ffffff;
            padding: 30px;
            border-radius: 1px;
            margin-top: 30px;
            border: 1px solid #333333;
        }

        .results h2 {
            margin-bottom: 25px;
            font-size: 1.6rem;
            font-weight: 600;
            border-bottom: 1px solid #666666;
            padding-bottom: 10px;
        }

        .metric-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 1px;
            margin-bottom: 15px;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .calculate-btn {
            background: #000000;
            color: #ffffff;
            padding: 15px 40px;
            border: 2px solid #000000;
            border-radius: 1px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
            margin-top: 20px;
        }

        .calculate-btn:hover {
            background: #333333;
            border-color: #333333;
        }

        .calculate-btn:disabled {
            background: #cccccc;
            border-color: #cccccc;
            cursor: not-allowed;
            color: #666666;
        }

        .automation-score {
            background: #333333;
            color: #ffffff;
            padding: 20px;
            border-radius: 1px;
            text-align: center;
            margin-top: 15px;
            border: 1px solid #000000;
        }

        .score-excellent { 
            background: #000000; 
            border-color: #000000;
        }
        .score-good { 
            background: #666666; 
            border-color: #666666;
            color: #ffffff;
        }
        .score-poor { 
            background: #cccccc; 
            color: #000000;
            border-color: #999999;
        }

        .progress-bar {
            background: #ffffff;
            border-radius: 1px;
            height: 12px;
            margin: 10px 0;
            overflow: hidden;
            border: 1px solid #000000;
        }

        .progress-fill {
            height: 100%;
            background: #000000;
            transition: width 0.5s ease;
            border-radius: 1px;
        }

        .tip {
            background: #f8f8f8;
            border: 1px solid #000000;
            color: #000000;
            padding: 15px;
            border-radius: 1px;
            margin-top: 10px;
            border-left: 3px solid #000000;
        }

        .hidden {
            display: none;
        }

        .case-example {
            background: #ffffff;
            border: 1px solid #000000;
            padding: 15px;
            border-radius: 1px;
            margin-top: 15px;
            border-left: 3px solid #000000;
        }

        .case-example h4 {
            color: #000000;
            margin-bottom: 8px;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .case-example p {
            color: #333333;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.6rem;
            }
            
            .content {
                padding: 20px;
            }

            .section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Calculadora ROI Empresarial</h1>
            <p>Descubra cuánto dinero puede ahorrar o ganar optimizando sus procesos</p>
            <small>Análisis detallado basado en casos reales de implementación</small>
        </div>

        <div class="content">
            <!-- SECCIÓN A: IDENTIFICACIÓN DEL DOLOR -->
            <div class="section">
                <h2>A. ¿Cuál es su principal desafío operacional?</h2>
                <p style="margin-bottom: 20px; color: #333333; font-size: 0.95rem;">Seleccione el área donde experimenta mayores ineficiencias:</p>
                
                <div class="pain-points">
                    <div class="pain-card" onclick="selectPainPoint('ventas')" id="pain-ventas">
                        <h4>Ventas y Marketing</h4>
                        <p>Leads se pierden, seguimiento manual, forecasting impreciso, conversión baja</p>
                    </div>
                    
                    <div class="pain-card" onclick="selectPainPoint('operaciones')" id="pain-operaciones">
                        <h4>Operaciones y Logística</h4>
                        <p>Inventario desorganizado, rutas ineficientes, gestión manual, desperdicios</p>
                    </div>
                    
                    <div class="pain-card" onclick="selectPainPoint('finanzas')" id="pain-finanzas">
                        <h4>Finanzas y Administración</h4>
                        <p>Cobranza lenta, errores contables, reportes tardíos, procesos manuales</p>
                    </div>

                    <div class="pain-card" onclick="selectPainPoint('analisis')" id="pain-analisis">
                        <h4>Análisis y Reportes</h4>
                        <p>Datos dispersos, reportes manuales, falta de predicciones, decisiones lentas</p>
                    </div>
                </div>

                <!-- Sub-problemas específicos -->
                <div id="sub-problems-ventas" class="sub-problems">
                    <h3>Problemas específicos en Ventas:</h3>
                    <div class="sub-problem" onclick="selectSubProblem('lead-qualification')">
                        <strong>Calificación de leads manual</strong> - Tiempo excesivo evaluando prospectos
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('follow-up')">
                        <strong>Seguimiento inconsistente</strong> - Clientes potenciales se pierden por falta de seguimiento
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('sales-forecasting')">
                        <strong>Forecasting impreciso</strong> - Proyecciones de ventas poco confiables
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('customer-service')">
                        <strong>Atención al cliente lenta</strong> - Respuestas tardías, consultas repetitivas
                    </div>
                </div>

                <div id="sub-problems-operaciones" class="sub-problems">
                    <h3>Problemas específicos en Operaciones:</h3>
                    <div class="sub-problem" onclick="selectSubProblem('inventory-management')">
                        <strong>Gestión de inventario manual</strong> - Sobrestock, faltantes, productos obsoletos
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('route-optimization')">
                        <strong>Rutas de distribución ineficientes</strong> - Costos altos, entregas tardías
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('quality-control')">
                        <strong>Control de calidad inconsistente</strong> - Errores, reprocesos, devoluciones
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('supply-chain')">
                        <strong>Planificación de compras reactiva</strong> - Pedidos urgentes, costos elevados
                    </div>
                </div>

                <div id="sub-problems-finanzas" class="sub-problems">
                    <h3>Problemas específicos en Finanzas:</h3>
                    <div class="sub-problem" onclick="selectSubProblem('collections')">
                        <strong>Cobranza lenta e ineficiente</strong> - Cartera vencida, flujo de caja afectado
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('accounting-errors')">
                        <strong>Errores contables frecuentes</strong> - Conciliaciones manuales, reprocesos
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('credit-approval')">
                        <strong>Aprobación de créditos lenta</strong> - Ventas perdidas, evaluación subjetiva
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('financial-reporting')">
                        <strong>Reportes financieros tardíos</strong> - Cierres demorados, información desactualizada
                    </div>
                </div>

                <div id="sub-problems-analisis" class="sub-problems">
                    <h3>Problemas específicos en Análisis:</h3>
                    <div class="sub-problem" onclick="selectSubProblem('data-consolidation')">
                        <strong>Datos dispersos en múltiples sistemas</strong> - Información fragmentada, inconsistencias
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('manual-reporting')">
                        <strong>Generación manual de reportes</strong> - Tiempo excesivo, errores humanos
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('predictive-analytics')">
                        <strong>Falta de análisis predictivo</strong> - Decisiones reactivas, oportunidades perdidas
                    </div>
                    <div class="sub-problem" onclick="selectSubProblem('real-time-insights')">
                        <strong>Información desactualizada</strong> - KPIs obsoletos, decisiones con datos viejos
                    </div>
                </div>

                <div id="selected-problem-info" class="hidden">
                    <div class="case-example" id="case-example-content">
                        <!-- Contenido se llena dinámicamente -->
                    </div>
                </div>
            </div>

            <!-- SECCIÓN B: DETALLES DEL PROCESO -->
            <div class="section" id="process-details" style="display: none;">
                <h2>B. Detalles de su Situación Actual</h2>
                <div id="process-explanation" class="tip">
                    <!-- Se llena dinámicamente según el problema seleccionado -->
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label id="timeLabel">Tiempo que dedica al proceso:</label>
                        <input type="number" id="timePerTask" step="0.1" placeholder="Horas">
                        <small id="timeHelp" style="color: #666666; font-size: 0.85rem; display: block; margin-top: 4px;"></small>
                    </div>
                    <div class="form-group">
                        <label>Salario promedio de quien hace el trabajo ($USD/hora):</label>
                        <input type="number" id="hourlyRate" placeholder="Ej: 25">
                        <small style="color: #666666; font-size: 0.85rem; display: block; margin-top: 4px;">
                            Incluya salario + beneficios. Ej: Empleado de $2,000/mes = $12/hora
                        </small>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label id="frequencyLabel">¿Con qué frecuencia ocurre?</label>
                        <select id="frequency">
                            <option value="daily">Todos los días</option>
                            <option value="weekly">Cada semana</option>
                            <option value="monthly">Cada mes</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label id="countLabel">Cantidad por período:</label>
                        <input type="number" id="frequencyCount" placeholder="Número">
                        <small id="countHelp" style="color: #666666; font-size: 0.85rem; display: block; margin-top: 4px;"></small>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label id="errorLabel">¿Qué tanto sale mal? (%):</label>
                        <input type="number" id="errorRate" min="0" max="100" placeholder="Porcentaje">
                        <small id="errorHelp" style="color: #666666; font-size: 0.85rem; display: block; margin-top: 4px;"></small>
                    </div>
                    <div class="form-group">
                        <label id="correctionLabel">Tiempo para corregir errores:</label>
                        <input type="number" id="correctionTime" step="0.1" placeholder="Horas">
                        <small id="correctionHelp" style="color: #666666; font-size: 0.85rem; display: block; margin-top: 4px;"></small>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label id="valueLabel">Valor promedio involucrado ($USD):</label>
                        <input type="number" id="customerValue" placeholder="Dinero">
                        <small id="valueHelp" style="color: #666666; font-size: 0.85rem; display: block; margin-top: 4px;"></small>
                    </div>
                    <div class="form-group">
                        <label>Tamaño de su empresa:</label>
                        <select id="companySize">
                            <option value="small">Pequeña (10-50 empleados)</option>
                            <option value="medium">Mediana (51-200 empleados)</option>
                            <option value="large">Grande (200+ empleados)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- SECCIÓN C: EVALUACIÓN DE AUTOMATIZACIÓN -->
            <div class="section" id="automation-assessment" style="display: none;">
                <h2>C. Evaluación de Viabilidad</h2>
                <p style="margin-bottom: 20px; color: #333333; font-size: 0.95rem;">Evalúe cada aspecto del proceso del 1 al 10:</p>
                
                <div class="slider-group">
                    <label>Repetitividad (¿El proceso es siempre similar?):</label>
                    <input type="range" id="repetitiveness" class="slider" min="1" max="10" value="5">
                    <span class="slider-value" id="repetitivenessValue">5</span>
                </div>

                <div class="slider-group">
                    <label>Reglas definidas (¿Existen criterios claros de decisión?):</label>
                    <input type="range" id="definedRules" class="slider" min="1" max="10" value="5">
                    <span class="slider-value" id="definedRulesValue">5</span>
                </div>

                <div class="slider-group">
                    <label>Volumen de datos (¿Maneja grandes cantidades de información?):</label>
                    <input type="range" id="dataVolume" class="slider" min="1" max="10" value="5">
                    <span class="slider-value" id="dataVolumeValue">5</span>
                </div>

                <div class="slider-group">
                    <label>Predictibilidad (¿Los resultados son predecibles?):</label>
                    <input type="range" id="predictability" class="slider" min="1" max="10" value="5">
                    <span class="slider-value" id="predictabilityValue">5</span>
                </div>

                <div class="slider-group">
                    <label>Impacto en negocio (¿Afecta directamente ingresos o costos?):</label>
                    <input type="range" id="revenueImpact" class="slider" min="1" max="10" value="5">
                    <span class="slider-value" id="revenueImpactValue">5</span>
                </div>

                <div id="automationScore" class="automation-score">
                    <h3>Puntuación de Viabilidad: <span id="totalScore">25</span>/50</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="scoreProgress" style="width: 50%"></div>
                    </div>
                    <p id="scoreRecommendation">Evaluando viabilidad...</p>
                </div>
            </div>

            <!-- SECCIÓN D: POTENCIAL DE AHORRO -->
            <div class="section" id="savings-potential" style="display: none;">
                <h2>D. ¿Por Qué Puede Ahorrar Tanto Dinero?</h2>
                
                <div id="savings-explanation" class="tip">
                    <!-- Se llena dinámicamente según el problema seleccionado -->
                </div>

                <h3>Principales Fuentes de Ahorro:</h3>
                <div id="savings-breakdown" style="margin-bottom: 20px;">
                    <!-- Se llena dinámicamente -->
                </div>

                <h3>Ejemplo de Transformación:</h3>
                <div id="transformation-example" class="case-example">
                    <!-- Se llena dinámicamente -->
                </div>
            </div>

            <!-- BOTÓN CALCULAR -->
            <button class="calculate-btn" id="calculateButton" onclick="calculateROI()" disabled>
                Seleccione un problema específico para continuar
            </button>

            <!-- RESULTADOS -->
            <div id="results" class="results" style="display: none;">
                <h2>Su Potencial de Ahorro y Eficiencia</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px;">
                    <div class="metric-card">
                        <div class="metric-value" id="roiPercentage">0%</div>
                        <div class="metric-label">ROI Anual</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value" id="paybackMonths">0</div>
                        <div class="metric-label">Meses de Recuperación</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value" id="annualSavings">$0</div>
                        <div class="metric-label">Ahorro Anual</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value" id="totalBenefits">$0</div>
                        <div class="metric-label">Beneficio Total</div>
                    </div>
                </div>

                <div style="margin-top: 25px; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 1px; border: 1px solid rgba(255,255,255,0.1);">
                    <h3>Estrategia de Implementación:</h3>
                    <div id="nextSteps"></div>
                </div>

                <div style="text-align: center; margin-top: 25px;">
                    <button onclick="downloadReport()" style="background: #ffffff; color: #000000; padding: 12px 25px; border: 2px solid #ffffff; border-radius: 1px; font-weight: 600; cursor: pointer; font-size: 0.95rem;">
                        Obtener Análisis Detallado de Ahorro
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedPainPoint = null;
        let selectedSubProblem = null;

        const problemData = {
            'lead-qualification': {
                title: 'Optimización de Calificación de Leads',
                description: 'Automatización de evaluación y scoring de prospectos con IA',
                example: 'Empresa de software B2B redujo tiempo de calificación 75% (30 min → 7 min por lead)',
                timeReduction: 75,
                errorReduction: 90,
                throughput: 400,
                explanations: {
                    intro: 'Analicemos cómo evalúa actualmente sus leads o prospectos de venta:',
                    timeLabel: '¿Cuánto tarda evaluando cada lead?',
                    timeHelp: 'Tiempo desde que recibe el contacto hasta decidir si es buen prospecto. Ej: 30 minutos por lead',
                    frequencyLabel: '¿Con qué frecuencia recibe leads?',
                    countLabel: 'Leads que evalúa por período:',
                    countHelp: 'Ej: Si recibe 20 leads por día, coloque 20',
                    errorLabel: '¿Qué % de leads "buenos" resultan no comprar?',
                    errorHelp: 'Leads que parecían prometedores pero no se convirtieron en ventas',
                    correctionLabel: 'Tiempo perdido en leads mal calificados:',
                    correctionHelp: 'Horas invertidas en seguimiento de leads que no iban a comprar',
                    valueLabel: 'Valor promedio de una venta:',
                    valueHelp: 'Cuánto dinero genera en promedio cuando un lead se convierte en cliente'
                },
                savingsExplanation: {
                    intro: 'La automatización de calificación de leads puede generar ahorros masivos porque:',
                    breakdown: [
                        'Tiempo liberado: Su equipo puede enfocarse en cerrar ventas en lugar de evaluar prospectos',
                        'Mejor precisión: IA detecta patrones que humanos no ven, mejora calidad de leads',
                        'Más volumen: Puede evaluar 5x más leads en el mismo tiempo',
                        'Menos leads perdidos: Seguimiento automático evita que prospectos se escapen'
                    ],
                    transformation: 'Una empresa de software pasó de evaluar 20 leads/día a 100 leads/día con la misma persona. El resultado: 3x más ventas cerradas con el mismo equipo.'
                }
            },
            'follow-up': {
                title: 'Automatización de Seguimiento',
                description: 'Sistema inteligente de seguimiento multicanal y nurturing',
                example: 'Distribuidor industrial aumentó conversión 45% con seguimiento automatizado',
                timeReduction: 80,
                errorReduction: 85,
                throughput: 300,
                explanations: {
                    intro: 'Analicemos cómo hace seguimiento a sus clientes potenciales:',
                    timeLabel: '¿Cuánto tarda en cada seguimiento?',
                    timeHelp: 'Tiempo por llamada, email o contacto de seguimiento. Ej: 15 minutos por contacto',
                    frequencyLabel: '¿Con qué frecuencia hace seguimiento?',
                    countLabel: 'Seguimientos que hace por período:',
                    countHelp: 'Ej: Si contacta 30 prospectos por día, coloque 30',
                    errorLabel: '¿Qué % de seguimientos no reciben respuesta?',
                    errorHelp: 'Clientes que no contestan o no muestran interés después del contacto',
                    correctionLabel: 'Tiempo en rehacer seguimientos:',
                    correctionHelp: 'Horas adicionales llamando a quien no contestó o re-enviando información',
                    valueLabel: 'Valor promedio si el seguimiento resulta en venta:',
                    valueHelp: 'Cuánto dinero genera cuando un seguimiento se convierte en venta'
                },
                savingsExplanation: {
                    intro: 'La automatización de seguimiento multiplica las ventas porque:',
                    breakdown: [
                        'Nunca se olvida: Sistema contacta automáticamente según cronograma optimal',
                        'Múltiples canales: Email, SMS, WhatsApp coordinados inteligentemente',
                        'Timing perfecto: Contacta en el momento más probable de respuesta',
                        'Escala ilimitada: Puede manejar 1000+ leads simultáneamente'
                    ],
                    transformation: 'Una empresa B2B pasó de convertir 3% de leads a 12% con seguimiento automatizado. Con 1000 leads/mes, eso son 90 ventas adicionales por mes.'
                }
            },
            'inventory-management': {
                title: 'Gestión Inteligente de Inventario',
                description: 'Optimización automática de stock y predicción de demanda',
                example: 'Ferretería redujo costos de inventario 30% y eliminó quiebres de stock 85%',
                timeReduction: 70,
                errorReduction: 95,
                throughput: 350,
                explanations: {
                    intro: 'Analicemos cómo maneja actualmente su inventario y almacén:',
                    timeLabel: '¿Cuánto tarda revisando/contando inventario?',
                    timeHelp: 'Tiempo para revisar stock, contar productos, actualizar sistema. Ej: 3 horas por sección',
                    frequencyLabel: '¿Con qué frecuencia revisa inventario?',
                    countLabel: 'Productos o secciones que revisa por período:',
                    countHelp: 'Ej: Si revisa 50 referencias por día, coloque 50',
                    errorLabel: '¿Qué % de veces encuentra diferencias?',
                    errorHelp: 'Cuántas veces el inventario físico no coincide con el sistema',
                    correctionLabel: 'Tiempo corrigiendo diferencias de inventario:',
                    correctionHelp: 'Horas buscando productos perdidos, ajustando sistema, investigando faltantes',
                    valueLabel: 'Valor promedio de productos que maneja:',
                    valueHelp: 'Precio promedio de los productos en su inventario'
                }
            },
            'collections': {
                title: 'Automatización de Cobranza',
                description: 'Notificaciones automáticas y scoring de riesgo de impago',
                example: 'Empresa financiera redujo tiempo de cobranza 40% (45 → 27 días promedio)',
                timeReduction: 70,
                errorReduction: 85,
                throughput: 250,
                explanations: {
                    intro: 'Analicemos cómo gestiona actualmente la cobranza de sus clientes:',
                    timeLabel: '¿Cuánto tarda gestionando cada cliente moroso?',
                    timeHelp: 'Tiempo por llamada, email, visita de cobranza. Ej: 20 minutos por cliente',
                    frequencyLabel: '¿Con qué frecuencia hace gestión de cobranza?',
                    countLabel: 'Clientes morosos que gestiona por período:',
                    countHelp: 'Ej: Si contacta 40 clientes en mora por día, coloque 40',
                    errorLabel: '¿Qué % de gestiones no logran cobrar?',
                    errorHelp: 'Clientes contactados que no pagan después de la gestión',
                    correctionLabel: 'Tiempo en gestiones adicionales:',
                    correctionHelp: 'Horas extra llamando, enviando cartas, haciendo visitas adicionales',
                    valueLabel: 'Valor promedio de deuda por cliente:',
                    valueHelp: 'Cuánto dinero debe en promedio cada cliente moroso'
                }
            },
            'route-optimization': {
                title: 'Optimización de Rutas',
                description: 'Algoritmos de optimización logística y gestión de flota',
                example: 'Empresa logística redujo costos de transporte 35% con rutas optimizadas por IA',
                timeReduction: 60,
                errorReduction: 90,
                throughput: 300,
                explanations: {
                    intro: 'Analicemos cómo planifica actualmente sus rutas de entrega o distribución:',
                    timeLabel: '¿Cuánto tarda planificando rutas?',
                    timeHelp: 'Tiempo organizando entregas, asignando vehículos, definiendo secuencia. Ej: 1 hora por ruta',
                    frequencyLabel: '¿Con qué frecuencia planifica rutas?',
                    countLabel: 'Rutas que organiza por período:',
                    countHelp: 'Ej: Si planifica 10 rutas por día, coloque 10',
                    errorLabel: '¿Qué % de rutas salen mal planificadas?',
                    errorHelp: 'Rutas que requieren cambios, entregas fallidas, vehículos mal asignados',
                    correctionLabel: 'Tiempo corrigiendo problemas de ruta:',
                    correctionHelp: 'Horas re-organizando entregas, enviando vehículos adicionales, solucionando problemas',
                    valueLabel: 'Costo promedio por ruta:',
                    valueHelp: 'Costo de combustible + conductor + vehículo por ruta'
                }
            },
            'accounting-errors': {
                title: 'Conciliación Contable Automática',
                description: 'Automatización de procesos contables y conciliaciones',
                example: 'Empresa mediana redujo errores contables 90% y tiempo de cierre 50%',
                timeReduction: 80,
                errorReduction: 95,
                throughput: 300,
                explanations: {
                    intro: 'Analicemos cómo maneja actualmente sus procesos contables y conciliaciones:',
                    timeLabel: '¿Cuánto tarda en conciliaciones contables?',
                    timeHelp: 'Tiempo conciliando bancos, cuadrando cuentas, revisando diferencias. Ej: 2 horas por cuenta',
                    frequencyLabel: '¿Con qué frecuencia hace conciliaciones?',
                    countLabel: 'Cuentas o procesos que concilia por período:',
                    countHelp: 'Ej: Si concilia 5 cuentas bancarias por mes, coloque 5',
                    errorLabel: '¿Qué % de veces encuentra errores?',
                    errorHelp: 'Diferencias entre registros contables y estados bancarios o documentos',
                    correctionLabel: 'Tiempo corrigiendo errores contables:',
                    correctionHelp: 'Horas buscando diferencias, ajustando asientos, corrigiendo registros',
                    valueLabel: 'Valor promedio de transacciones:',
                    valueHelp: 'Monto promedio de las transacciones que maneja contablemente'
                }
            },
            'data-consolidation': {
                title: 'Consolidación Automática de Datos',
                description: 'Data warehouse y ETL automático para unificar información',
                example: 'Empresa retail consolidó 15 sistemas en una sola fuente de verdad',
                timeReduction: 85,
                errorReduction: 90,
                throughput: 400,
                explanations: {
                    intro: 'Analicemos cómo obtiene actualmente información consolidada de su negocio:',
                    timeLabel: '¿Cuánto tarda creando reportes consolidados?',
                    timeHelp: 'Tiempo recopilando datos de varios sistemas, Excel, bases de datos. Ej: 4 horas por reporte',
                    frequencyLabel: '¿Con qué frecuencia necesita reportes consolidados?',
                    countLabel: 'Reportes que debe preparar por período:',
                    countHelp: 'Ej: Si prepara 3 reportes semanales, coloque 3',
                    errorLabel: '¿Qué % de veces encuentra inconsistencias?',
                    errorHelp: 'Datos que no cuadran entre sistemas, información contradictoria',
                    correctionLabel: 'Tiempo corrigiendo inconsistencias:',
                    correctionHelp: 'Horas verificando datos, buscando diferencias, corrigiendo información',
                    valueLabel: 'Costo de decisiones con datos incorrectos:',
                    valueHelp: 'Estimado del impacto económico de tomar decisiones con información errónea'
                }
            },
            'manual-reporting': {
                title: 'Automatización de Reportes',
                description: 'Generación automática de dashboards y reportes ejecutivos',
                example: 'Director redujo tiempo de reportes semanales de 8 horas → 30 minutos',
                timeReduction: 95,
                errorReduction: 98,
                throughput: 300,
                explanations: {
                    intro: 'Analicemos cómo prepara actualmente sus reportes de gestión:',
                    timeLabel: '¿Cuánto tarda preparando cada reporte?',
                    timeHelp: 'Tiempo recopilando datos, creando gráficos, formateando reporte. Ej: 3 horas por reporte',
                    frequencyLabel: '¿Con qué frecuencia debe entregar reportes?',
                    countLabel: 'Reportes que debe preparar por período:',
                    countHelp: 'Ej: Si entrega 2 reportes semanales, coloque 2',
                    errorLabel: '¿Qué % de veces debe corregir reportes?',
                    errorHelp: 'Reportes que deben rehacer por errores, datos incorrectos, cambios de formato',
                    correctionLabel: 'Tiempo corrigiendo reportes:',
                    correctionHelp: 'Horas adicionales verificando datos, corrigiendo errores, actualizando información',
                    valueLabel: 'Valor de las decisiones basadas en reportes:',
                    valueHelp: 'Estimado del impacto económico de las decisiones que se toman con estos reportes'
                }
            },
            'sales-forecasting': {
                title: 'Forecasting Predictivo',
                description: 'Modelos de IA para proyecciones de ventas precisas',
                example: 'Retailer mejoró precisión de forecasting de 60% → 90% con IA predictiva',
                timeReduction: 65,
                errorReduction: 88,
                throughput: 250,
                explanations: {
                    intro: 'Analicemos cómo hace actualmente sus proyecciones de ventas:',
                    timeLabel: '¿Cuánto tarda creando proyecciones de ventas?',
                    timeHelp: 'Tiempo analizando tendencias, revisando históricos, creando forecast. Ej: 4 horas por proyección',
                    frequencyLabel: '¿Con qué frecuencia hace proyecciones?',
                    countLabel: 'Proyecciones que debe preparar por período:',
                    countHelp: 'Ej: Si hace 1 proyección mensual, coloque 1',
                    errorLabel: '¿Qué % de veces sus proyecciones fallan?',
                    errorHelp: 'Diferencia entre lo proyectado y las ventas reales',
                    correctionLabel: 'Tiempo corrigiendo planes por proyecciones erróneas:',
                    correctionHelp: 'Horas ajustando inventarios, compras, personal por proyecciones incorrectas',
                    valueLabel: 'Impacto económico de proyecciones erróneas:',
                    valueHelp: 'Costo de tener mucho o poco inventario, personal, etc. por malas proyecciones'
                }
            },
            'customer-service': {
                title: 'Atención al Cliente Inteligente',
                description: 'Chatbots y automatización de respuestas frecuentes',
                example: 'E-commerce redujo tiempo de respuesta 85% (2 horas → 18 minutos)',
                timeReduction: 85,
                errorReduction: 92,
                throughput: 500,
                explanations: {
                    intro: 'Analicemos cómo atiende actualmente las consultas de sus clientes:',
                    timeLabel: '¿Cuánto tarda respondiendo cada consulta?',
                    timeHelp: 'Tiempo promedio por llamada, email, chat de atención. Ej: 10 minutos por consulta',
                    frequencyLabel: '¿Con qué frecuencia recibe consultas?',
                    countLabel: 'Consultas que atiende por período:',
                    countHelp: 'Ej: Si atiende 100 consultas por día, coloque 100',
                    errorLabel: '¿Qué % de consultas debe re-atender?',
                    errorHelp: 'Clientes que vuelven a preguntar porque no quedaron satisfechos con la respuesta',
                    correctionLabel: 'Tiempo en re-atenciones:',
                    correctionHelp: 'Horas adicionales atendiendo consultas mal resueltas la primera vez',
                    valueLabel: 'Valor promedio del cliente que consulta:',
                    valueHelp: 'Cuánto compra en promedio un cliente que hace consultas'
                }
            },
            'quality-control': {
                title: 'Control de Calidad Automatizado',
                description: 'Sistemas de inspección visual y control estadístico con IA',
                example: 'Manufacturer redujo defectos 90% con inspección visual automatizada',
                timeReduction: 80,
                errorReduction: 95,
                throughput: 400,
                explanations: {
                    intro: 'Analicemos cómo hace actualmente el control de calidad de sus productos:',
                    timeLabel: '¿Cuánto tarda inspeccionando productos?',
                    timeHelp: 'Tiempo por producto o lote inspeccionado. Ej: 5 minutos por unidad',
                    frequencyLabel: '¿Con qué frecuencia hace control de calidad?',
                    countLabel: 'Productos que inspecciona por período:',
                    countHelp: 'Ej: Si inspecciona 200 unidades por día, coloque 200',
                    errorLabel: '¿Qué % de productos defectuosos pasan sin detectar?',
                    errorHelp: 'Productos malos que no detecta en la inspección y llegan al cliente',
                    correctionLabel: 'Tiempo gestionando productos defectuosos:',
                    correctionHelp: 'Horas manejando reclamos, devoluciones, re-trabajos por productos defectuosos',
                    valueLabel: 'Costo promedio de un producto defectuoso:',
                    valueHelp: 'Costo de reemplazar, reparar o compensar por un producto defectuoso'
                }
            },
            'supply-chain': {
                title: 'Planificación Inteligente de Compras',
                description: 'Automatización de órdenes y predicción de necesidades',
                example: 'Distribuidor redujo pedidos urgentes 70% con planificación predictiva',
                timeReduction: 75,
                errorReduction: 88,
                throughput: 275,
                explanations: {
                    intro: 'Analicemos cómo planifica actualmente sus compras y pedidos a proveedores:',
                    timeLabel: '¿Cuánto tarda planificando qué comprar?',
                    timeHelp: 'Tiempo revisando inventarios, analizando ventas, creando órdenes. Ej: 2 horas por orden',
                    frequencyLabel: '¿Con qué frecuencia planifica compras?',
                    countLabel: 'Órdenes de compra que genera por período:',
                    countHelp: 'Ej: Si hace 5 órdenes semanales, coloque 5',
                    errorLabel: '¿Qué % de veces compra mal?',
                    errorHelp: 'Órdenes de más, de menos, productos equivocados, timing incorrecto',
                    correctionLabel: 'Tiempo corrigiendo compras incorrectas:',
                    correctionHelp: 'Horas gestionando pedidos urgentes, devolviendo productos, ajustando órdenes',
                    valueLabel: 'Valor promedio de cada orden de compra:',
                    valueHelp: 'Monto promedio que gasta en cada pedido a proveedores'
                }
            },
            'credit-approval': {
                title: 'Scoring de Crédito con IA',
                description: 'Evaluación automática de riesgo crediticio en tiempo real',
                example: 'Fintech mejoró aprobaciones 30% manteniendo mismo nivel de riesgo',
                timeReduction: 85,
                errorReduction: 90,
                throughput: 500,
                explanations: {
                    intro: 'Analicemos cómo evalúa actualmente el crédito de sus clientes:',
                    timeLabel: '¿Cuánto tarda evaluando cada solicitud de crédito?',
                    timeHelp: 'Tiempo revisando documentos, analizando capacidad de pago, decidiendo. Ej: 30 minutos por solicitud',
                    frequencyLabel: '¿Con qué frecuencia evalúa créditos?',
                    countLabel: 'Solicitudes de crédito que evalúa por período:',
                    countHelp: 'Ej: Si evalúa 20 solicitudes por día, coloque 20',
                    errorLabel: '¿Qué % de créditos aprobados no pagan?',
                    errorHelp: 'Clientes a los que aprobó crédito pero resultaron morosos',
                    correctionLabel: 'Tiempo gestionando créditos problemáticos:',
                    correctionHelp: 'Horas en cobranza, gestión legal, recuperación de cartera',
                    valueLabel: 'Valor promedio de crédito otorgado:',
                    valueHelp: 'Monto promedio que presta o financia a cada cliente'
                }
            },
            'financial-reporting': {
                title: 'Reportes Financieros Automáticos',
                description: 'Generación automática de informes y dashboards financieros',
                example: 'CFO redujo tiempo de reportes de 5 días → 2 horas con automatización',
                timeReduction: 90,
                errorReduction: 95,
                throughput: 200,
                explanations: {
                    intro: 'Analicemos cómo prepara actualmente sus reportes financieros:',
                    timeLabel: '¿Cuánto tarda preparando reportes financieros?',
                    timeHelp: 'Tiempo consolidando información, creando estados financieros, análisis. Ej: 8 horas por reporte',
                    frequencyLabel: '¿Con qué frecuencia debe entregar reportes financieros?',
                    countLabel: 'Reportes financieros que debe preparar por período:',
                    countHelp: 'Ej: Si entrega 1 reporte mensual, coloque 1',
                    errorLabel: '¿Qué % de veces debe corregir reportes?',
                    errorHelp: 'Reportes que deben rehacer por errores en cálculos, clasificaciones incorrectas',
                    correctionLabel: 'Tiempo corrigiendo reportes financieros:',
                    correctionHelp: 'Horas adicionales verificando cifras, corrigiendo errores, re-calculando',
                    valueLabel: 'Costo de retrasos en reportes financieros:',
                    valueHelp: 'Impacto económico de entregar información financiera tarde (multas, decisiones tardías, etc.)'
                }
            },
            'predictive-analytics': {
                title: 'Analytics Predictivo',
                description: 'Modelos de machine learning para predicción de tendencias',
                example: 'Retailer aumentó precisión de predicción de demanda del 65% al 92%',
                timeReduction: 60,
                errorReduction: 85,
                throughput: 250,
                explanations: {
                    intro: 'Analicemos cómo analiza actualmente tendencias y patrones en su negocio:',
                    timeLabel: '¿Cuánto tarda analizando datos para predecir tendencias?',
                    timeHelp: 'Tiempo revisando históricos, creando análisis, identificando patrones. Ej: 6 horas por análisis',
                    frequencyLabel: '¿Con qué frecuencia necesita análisis predictivo?',
                    countLabel: 'Análisis predictivos que debe hacer por período:',
                    countHelp: 'Ej: Si hace 2 análisis mensuales, coloque 2',
                    errorLabel: '¿Qué % de veces sus predicciones fallan?',
                    errorHelp: 'Diferencia entre lo que predijo y lo que realmente pasó',
                    correctionLabel: 'Tiempo corrigiendo decisiones por predicciones erróneas:',
                    correctionHelp: 'Horas ajustando estrategias, corrigiendo planes por predicciones incorrectas',
                    valueLabel: 'Impacto económico de predicciones erróneas:',
                    valueHelp: 'Costo de tomar decisiones incorrectas por análisis predictivos erróneos'
                }
            },
            'real-time-insights': {
                title: 'Insights en Tiempo Real',
                description: 'Dashboards en vivo y alertas automáticas de KPIs críticos',
                example: 'CEO tiene visibilidad de métricas clave actualizadas cada 15 minutos',
                timeReduction: 75,
                errorReduction: 88,
                throughput: 350,
                explanations: {
                    intro: 'Analicemos cómo obtiene actualmente información actualizada de su negocio:',
                    timeLabel: '¿Cuánto tarda obteniendo información actualizada?',
                    timeHelp: 'Tiempo consultando sistemas, preguntando a empleados, creando reportes. Ej: 1 hora por consulta',
                    frequencyLabel: '¿Con qué frecuencia necesita información actualizada?',
                    countLabel: 'Consultas de información que hace por período:',
                    countHelp: 'Ej: Si consulta información 5 veces por día, coloque 5',
                    errorLabel: '¿Qué % de veces la información está desactualizada?',
                    errorHelp: 'Información que resulta ser vieja o incorrecta al momento de recibirla',
                    correctionLabel: 'Tiempo obteniendo información correcta:',
                    correctionHelp: 'Horas adicionales verificando datos, buscando información actualizada',
                    valueLabel: 'Costo de decisiones con información desactualizada:',
                    valueHelp: 'Impacto económico de tomar decisiones con datos viejos o incorrectos'
                }
            }
        };

        function selectPainPoint(painPoint) {
            // Limpiar selecciones anteriores
            document.querySelectorAll('.pain-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelectorAll('.sub-problems').forEach(sub => {
                sub.classList.remove('active');
            });
            
            // Seleccionar nueva área
            document.getElementById(`pain-${painPoint}`).classList.add('selected');
            document.getElementById(`sub-problems-${painPoint}`).classList.add('active');
            
            selectedPainPoint = painPoint;
            selectedSubProblem = null;
            
            // Ocultar información de problema específico
            document.getElementById('selected-problem-info').classList.add('hidden');
            hideNextSections();
        }

        function selectSubProblem(subProblem) {
            // Limpiar selecciones anteriores
            document.querySelectorAll('.sub-problem').forEach(problem => {
                problem.classList.remove('selected');
            });
            
            // Seleccionar nuevo sub-problema
            event.target.classList.add('selected');
            selectedSubProblem = subProblem;
            
            // Mostrar información del problema
            showProblemInfo(subProblem);
            showNextSections();
        }

        function showProblemInfo(problemKey) {
            const data = problemData[problemKey];
            const container = document.getElementById('selected-problem-info');
            const content = document.getElementById('case-example-content');
            
            content.innerHTML = `
                <h4>${data.title}</h4>
                <p><strong>Solución:</strong> ${data.description}</p>
                <p><strong>Caso real:</strong> ${data.example}</p>
            `;
            
            container.classList.remove('hidden');
            
            // Actualizar explicaciones específicas del formulario
            const explanations = data.explanations;
            document.getElementById('process-explanation').innerHTML = `
                <strong>${explanations.intro}</strong>
            `;
            
            // Actualizar labels y ayudas específicas
            document.getElementById('timeLabel').textContent = explanations.timeLabel;
            document.getElementById('timeHelp').textContent = explanations.timeHelp;
            
            document.getElementById('frequencyLabel').textContent = explanations.frequencyLabel;
            document.getElementById('countLabel').textContent = explanations.countLabel;
            document.getElementById('countHelp').textContent = explanations.countHelp;
            
            document.getElementById('errorLabel').textContent = explanations.errorLabel;
            document.getElementById('errorHelp').textContent = explanations.errorHelp;
            
            document.getElementById('correctionLabel').textContent = explanations.correctionLabel;
            document.getElementById('correctionHelp').textContent = explanations.correctionHelp;
            
            document.getElementById('valueLabel').textContent = explanations.valueLabel;
            document.getElementById('valueHelp').textContent = explanations.valueHelp;
            
            // Agregar placeholders específicos
            document.getElementById('timePerTask').placeholder = 'Horas (ej: 2.5)';
            document.getElementById('frequencyCount').placeholder = 'Cantidad';
            document.getElementById('errorRate').placeholder = 'Porcentaje (ej: 15)';
            document.getElementById('correctionTime').placeholder = 'Horas (ej: 0.5)';
            document.getElementById('customerValue').placeholder = 'Dinero ($USD)';
        }

        function showNextSections() {
            document.getElementById('process-details').style.display = 'block';
            document.getElementById('automation-assessment').style.display = 'block';
            document.getElementById('savings-potential').style.display = 'block';
            
            document.getElementById('calculateButton').disabled = false;
            document.getElementById('calculateButton').textContent = 'Calcular Potencial de Ahorro';
            
            // Mostrar explicación de ahorro específica
            showSavingsExplanation(selectedSubProblem);
        }

        function showSavingsExplanation(problemKey) {
            const data = problemData[problemKey];
            const explanationDiv = document.getElementById('savings-explanation');
            const breakdownDiv = document.getElementById('savings-breakdown');
            const exampleDiv = document.getElementById('transformation-example');
            
            if (!data.savingsExplanation) {
                // Explicación por defecto
                explanationDiv.innerHTML = `<strong>La automatización de este proceso puede generar ahorros significativos porque:</strong>`;
                breakdownDiv.innerHTML = `
                    <div style="padding: 10px 0; border-bottom: 1px solid #000000;">Tiempo liberado: Reduce ${data.timeReduction}% el tiempo manual del proceso</div>
                    <div style="padding: 10px 0; border-bottom: 1px solid #000000;">Menos errores: Elimina ${data.errorReduction}% de errores humanos</div>
                    <div style="padding: 10px 0; border-bottom: 1px solid #000000;">Mayor capacidad: Permite procesar ${data.throughput}% más volumen</div>
                    <div style="padding: 10px 0; border-bottom: 1px solid #000000;">ROI comprobado: Casos similares muestran retornos rápidos</div>
                `;
                exampleDiv.innerHTML = `
                    <h4>Potencial de Transformación</h4>
                    <p>Empresas similares han logrado ahorros significativos automatizando este tipo de proceso. El tiempo liberado se puede reinvertir en actividades estratégicas de mayor valor.</p>
                `;
                return;
            }
            
            explanationDiv.innerHTML = `<strong>${data.savingsExplanation.intro}</strong>`;
            
            let breakdownHTML = '';
            data.savingsExplanation.breakdown.forEach(item => {
                breakdownHTML += `<div style="padding: 10px 0; border-bottom: 1px solid #000000;">${item}</div>`;
            });
            breakdownDiv.innerHTML = breakdownHTML;
            
            exampleDiv.innerHTML = `
                <h4>Transformación Real</h4>
                <p>${data.savingsExplanation.transformation}</p>
            `;
        }

        function hideNextSections() {
            document.getElementById('process-details').style.display = 'none';
            document.getElementById('automation-assessment').style.display = 'none';
            document.getElementById('savings-potential').style.display = 'none';
            document.getElementById('results').style.display = 'none';
            
            document.getElementById('calculateButton').disabled = true;
            document.getElementById('calculateButton').textContent = 'Seleccione un problema específico para continuar';
            
            // Limpiar formulario
            document.getElementById('timePerTask').value = '';
            document.getElementById('hourlyRate').value = '';
            document.getElementById('frequencyCount').value = '';
            document.getElementById('errorRate').value = '';
            document.getElementById('correctionTime').value = '';
            document.getElementById('customerValue').value = '';
        }

        // Update slider values
        document.addEventListener('DOMContentLoaded', function() {
            const sliders = ['repetitiveness', 'definedRules', 'dataVolume', 'predictability', 'revenueImpact'];
            
            sliders.forEach(slider => {
                const element = document.getElementById(slider);
                const valueElement = document.getElementById(slider + 'Value');
                
                element.addEventListener('input', function() {
                    valueElement.textContent = this.value;
                    updateAutomationScore();
                });
            });
        });

        function updateAutomationScore() {
            const scores = [
                parseInt(document.getElementById('repetitiveness').value),
                parseInt(document.getElementById('definedRules').value),
                parseInt(document.getElementById('dataVolume').value),
                parseInt(document.getElementById('predictability').value),
                parseInt(document.getElementById('revenueImpact').value)
            ];
            
            const total = scores.reduce((sum, score) => sum + score, 0);
            document.getElementById('totalScore').textContent = total;
            
            const percentage = (total / 50) * 100;
            document.getElementById('scoreProgress').style.width = percentage + '%';
            
            const scoreElement = document.getElementById('automationScore');
            const recommendation = document.getElementById('scoreRecommendation');
            
            if (total >= 40) {
                scoreElement.className = 'automation-score score-excellent';
                recommendation.textContent = 'CANDIDATO IDEAL para automatización - ROI garantizado';
            } else if (total >= 30) {
                scoreElement.className = 'automation-score score-good';
                recommendation.textContent = 'CANDIDATO BUENO - Implementación recomendada con optimizaciones';
            } else if (total >= 20) {
                scoreElement.className = 'automation-score score-poor';
                recommendation.textContent = 'Requiere rediseño de proceso antes de automatizar';
            } else {
                scoreElement.className = 'automation-score score-poor';
                recommendation.textContent = 'No recomendado para automatización en estado actual';
            }
        }

        function calculateROI() {
            if (!selectedSubProblem) {
                alert('Por favor seleccione un problema específico primero.');
                return;
            }

            // Get values
            const timePerTask = parseFloat(document.getElementById('timePerTask').value) || 0;
            const hourlyRate = parseFloat(document.getElementById('hourlyRate').value) || 0;
            const frequency = document.getElementById('frequency').value;
            const frequencyCount = parseInt(document.getElementById('frequencyCount').value) || 0;
            const errorRate = parseFloat(document.getElementById('errorRate').value) || 0;
            const correctionTime = parseFloat(document.getElementById('correctionTime').value) || 0;
            const customerValue = parseFloat(document.getElementById('customerValue').value) || 0;
            
            const selectedData = problemData[selectedSubProblem];
            const timeReduction = selectedData.timeReduction;
            const errorReduction = selectedData.errorReduction;
            const throughputIncrease = selectedData.throughput;

            // Calculate frequency multiplier
            let freqMultiplier = 1;
            switch(frequency) {
                case 'daily': freqMultiplier = 365; break;
                case 'weekly': freqMultiplier = 52; break;
                case 'monthly': freqMultiplier = 12; break;
            }

            // Calculate annual values
            const annualTasks = frequencyCount * freqMultiplier;
            const currentAnnualHours = annualTasks * timePerTask;
            
            // Calculate error costs
            const annualErrors = (annualTasks * errorRate / 100);
            const errorCorrectionCost = annualErrors * correctionTime * hourlyRate;
            
            // Calculate savings
            const timeSaved = currentAnnualHours * (timeReduction / 100);
            const timeSavings = timeSaved * hourlyRate;
            
            const errorsSaved = annualErrors * (errorReduction / 100);
            const errorSavings = errorsSaved * correctionTime * hourlyRate;
            
            // Calculate additional revenue from increased capacity
            const additionalCapacity = annualTasks * (throughputIncrease / 100);
            const additionalRevenue = additionalCapacity * customerValue * 0.02;
            
            // Total benefits (no costs calculated)
            const totalSavings = timeSavings + errorSavings;
            const totalBenefits = totalSavings + additionalRevenue;
            
            // Display results focused on savings
            document.getElementById('roiPercentage').textContent = Math.round(timeReduction) + '%';
            document.getElementById('paybackMonths').textContent = Math.round(timeSaved).toLocaleString() + 'h';
            document.getElementById('annualSavings').textContent = '$' + Math.round(totalSavings).toLocaleString();
            document.getElementById('totalBenefits').textContent = '$' + Math.round(totalBenefits).toLocaleString();

            // Update metric labels
            document.querySelector('#roiPercentage').nextElementSibling.textContent = 'Reducción de Tiempo';
            document.querySelector('#paybackMonths').nextElementSibling.textContent = 'Horas Liberadas/Año';
            document.querySelector('#annualSavings').nextElementSibling.textContent = 'Ahorro Directo Anual';
            document.querySelector('#totalBenefits').nextElementSibling.textContent = 'Beneficio Total Anual';
            
            // Next steps focused on value
            let nextSteps = '';
            if (totalBenefits > 100000) {
                nextSteps = `
                    <strong>POTENCIAL DE AHORRO ALTO - Oportunidad prioritaria</strong><br>
                    • Su proceso tiene potencial de generar $${Math.round(totalBenefits/1000)}K anuales en valor<br>
                    • Tiempo liberado: ${Math.round(timeSaved)} horas anuales para actividades estratégicas<br>
                    • Mejora de eficiencia: ${timeReduction}% más rápido en este proceso
                `;
            } else if (totalBenefits > 50000) {
                nextSteps = `
                    <strong>POTENCIAL DE AHORRO MEDIO - Oportunidad sólida</strong><br>
                    • Ahorro anual proyectado: $${Math.round(totalBenefits).toLocaleString()}<br>
                    • Liberación de ${Math.round(timeSaved)} horas anuales del equipo<br>
                    • Posibilidad de escalar a otros procesos similares
                `;
            } else if (totalBenefits > 20000) {
                nextSteps = `
                    <strong>POTENCIAL DE AHORRO BÁSICO - Vale la pena explorar</strong><br>
                    • Beneficio anual estimado: $${Math.round(totalBenefits).toLocaleString()}<br>
                    • Optimización gradual del proceso<br>
                    • Considerar automatización por fases
                `;
            } else {
                nextSteps = `
                    <strong>REVISAR PARÁMETROS - Optimizar enfoque</strong><br>
                    • El proceso actual puede necesitar rediseño previo<br>
                    • Explorar otros procesos con mayor impacto<br>
                    • Considerar soluciones híbridas o por etapas
                `;
            }
            
            document.getElementById('nextSteps').innerHTML = nextSteps;
            document.getElementById('results').style.display = 'block';
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        function downloadReport() {
            const selectedData = problemData[selectedSubProblem];
            alert(`Análisis generado para: ${selectedData.title}\n\nUn especialista se contactará en las próximas 24 horas para entregar el reporte detallado y programar una demo específica de la solución propuesta.`);
        }

        // Initialize
        updateAutomationScore();
    </script>
</body>
</html>